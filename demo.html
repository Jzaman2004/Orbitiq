<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>LEO-Commons Demo</title>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
</head>
<body>
  <header>
    <div class="logo">LEO-Commons ‚Ä¢ Demo</div>
    <nav><a href="index.html">‚Üê Back</a></nav>
  </header>

  <div class="container">
    <h2>üõ∞Ô∏è Satellite Intelligence Dashboard</h2>
    <p><strong>Region:</strong> Central Iowa ‚Ä¢ <strong>Last Image:</strong> 3 days ago</p>

    <div id="satellite-map"></div>

    <div class="card">
      <h3>üåæ CropWatch Report</h3>
      <p><strong>Health Score:</strong> <span style="color: var(--warning);">68/100</span> (Below Average)</p>
      
      <div class="alert">
        <strong>‚ö†Ô∏è Recommendation:</strong> Irrigate Section B-3 within 48 hours. Historical data shows 72% yield loss if delayed.
      </div>

      <div class="limitations">
        <strong>Data Quality:</strong><br>
        ‚Ä¢ Resolution: 30m (Landsat)<br>
        ‚Ä¢ Cloud Coverage: 8%<br>
        ‚Ä¢ Update Frequency: Every 5‚Äì16 days<br>
        ‚Ä¢ Processing Time: ~45 minutes<br><br>
        <strong>Limitations:</strong><br>
        ‚Ä¢ Cannot identify specific diseases<br>
        ‚Ä¢ Not real-time ‚Äî shows trends only<br>
        ‚Ä¢ Ground inspection recommended
      </div>
    </div>
  </div>

  <script>
    // Initialize map
    const map = L.map('satellite-map').setView([41.8780, -93.0977], 8); // Iowa

    // Base layer: OpenStreetMap
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '¬© OpenStreetMap contributors'
    }).addTo(map);

    // Add NASA GIBS MODIS True Color (public, no key)
    const nasaLayer = L.tileLayer.wms("https://gibs.earthdata.nasa.gov/wms/epsg4326/best/wms.cgi", {
      layers: 'MODIS_Terra_CorrectedReflectance_TrueColor',
      format: 'image/jpeg',
      transparent: false,
      opacity: 0.8,
      attribution: "Imagery provided by NASA GIBS"
    }).addTo(map);

    // Add a sample farm boundary
    const farmBoundary = L.polygon([
      [41.9, -93.15],
      [41.9, -93.05],
      [41.85, -93.05],
      [41.85, -93.15]
    ], { color: '#2563eb', weight: 2, fillOpacity: 0.1 }).addTo(map);

    map.fitBounds(farmBoundary.getBounds());
  </script>

  <footer>
    <p>This demo uses real public satellite data from NASA GIBS. No new satellites were launched.</p>
  </footer>
</body>
</html>